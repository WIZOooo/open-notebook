## 目标
- 让 `scripts/deploy-compose.sh` 启动时不再引用远端 `lfnovo/open_notebook:v1-latest`，而是只使用你本地 build 出来的镜像。

## 改动内容（只改配置，不跑命令）
1. 修改 [docker-compose.prod.yml](file:///Users/imac/Documents/open-notebook/docker-compose.prod.yml)
   - 把 `open_notebook` 服务的
     - `image: ${OPEN_NOTEBOOK_IMAGE:-lfnovo/open_notebook:v1-latest}`
     改为
     - `image: open_notebook:local`
   - 增加 `pull_policy: never`
     - 目的：即使本地没有该镜像，也不会尝试去远端拉取（避免“又去连 Docker Hub”）。

## 你后续需要跑的命令（改完配置后）
```bash
docker build -t open_notebook:local .
```
- 用途：把当前代码打成 `open_notebook:local` 本地镜像。

```bash
bash scripts/deploy-compose.sh down
bash scripts/deploy-compose.sh up
```
- 用途：用新的 compose 配置重建并启动服务。

## 注意
- 你现在的 build 失败是因为拉取 `python:3.12-slim-bookworm` 超时；即使不再拉远端 open_notebook 镜像，**基础镜像仍然需要能从 Docker Hub 拉到**。我会在改完 compose 后给一套最短排查/修复命令（代理/镜像源/超时）。